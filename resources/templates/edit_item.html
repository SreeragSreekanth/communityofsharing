{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}Edit Item - NeighborLink{% endblock %}
{% block content %}
    <h2 class="text-center">Edit Item: {{ item.name }}</h2>
    <form method="post" enctype="multipart/form-data" class="w-75 mx-auto">
        {% csrf_token %}
        {{ item_form|crispy }}
        <h4>Manage Images</h4>
        <div id="image-fields">
            {% for image in item.images.all %}
                <div class="mb-3">
                    <img src="{{ image.image.url }}" alt="Existing Image" width="100" class="mb-2">
                    <input type="checkbox" name="delete_images" value="{{ image.id }}"> Delete
                </div>
            {% endfor %}
            <div class="mb-3">
                <input type="file" name="images" class="form-control">
            </div>
        </div>
        <button type="button" id="add-photo" class="btn btn-secondary mb-3">Add Photo</button>
        <button type="submit" class="btn btn-primary w-100">Save Changes</button>
    </form>
{% endblock %}